{% extends "site_inf/base.html" %}

{% block content %}
<div class="tcc-container">
  <h1 class="tcc-title">Trabalhos de Conclusão de Curso</h1>

  <div class="search-bar">
    <input
      type="text"
      id="searchInput"
      placeholder="Pesquisar por título ou descrição..."
      onkeyup="filtrarTCCs()"
    />
  </div>

  <div class="tcc-list" id="tccList">
    {% for tcc in tccs %}
    <div class="tcc-card">
      <h3>{{ tcc.titulo }}</h3>
      <p>{{ tcc.descricao }}</p>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
  function filtrarTCCs() {
    const input = document.getElementById("searchInput").value.toLowerCase();
    const cards = document.querySelectorAll(".tcc-card");

    cards.forEach((card) => {
      const titulo = card.querySelector("h3").textContent.toLowerCase();
      const descricao = card.querySelector("p").textContent.toLowerCase();
      const match = titulo.includes(input) || descricao.includes(input);
      card.style.display = match ? "block" : "none";
    });
  }
</script>
{% endblock %}
